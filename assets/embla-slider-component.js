!function(){let t="embla-slides",e="embla-viewport",s="embla-next",i="embla-prev",l="embla-slider",o="embla-progress",a="embla-thumbnail",r=t=>t.replace(/-./g,t=>t[1].toUpperCase());customElements.define(t,class extends HTMLElement{}),customElements.define("embla-slide",class extends HTMLElement{}),customElements.define(e,class extends HTMLElement{});class n extends HTMLElement{constructor(){super()}connectedCallback(){this.addEventListener("click",()=>{(this.closest(l)||document.getElementById(this.for)).api.scrollTo(this.index)})}static get observedAttributes(){return["for","index"]}attributeChangedCallback(t,e,s){e!==s&&(this[t]=s)}}customElements.define(a,n);class u extends HTMLElement{constructor(){super()}connectedCallback(){this.addEventListener("click",()=>{let t=this.closest(l)||document.getElementById(this.for);console.log(t),t.api?.scrollNext()})}disable(){this.setAttribute("disabled",!0)}enable(){this.removeAttribute("disabled")}static get observedAttributes(){return["for"]}attributeChangedCallback(t,e,s){e!==s&&(this[t]=s)}}customElements.define(s,u);class h extends HTMLElement{constructor(){super()}connectedCallback(){this.addEventListener("click",()=>{let t=this.closest(l)||document.getElementById(this.for);console.log(t),t.api?.scrollPrev()})}disable(){this.setAttribute("disabled",!0)}enable(){this.removeAttribute("disabled")}static get observedAttributes(){return["for"]}attributeChangedCallback(t,e,s){e!==s&&(this[t]=s)}}customElements.define(i,h);class d extends HTMLElement{constructor(){super()}connectedCallback(){}update(){let t=this.closest(l)||document.getElementById(this.for),e=Math.max(0,Math.min(1,t.api?.scrollProgress()??0));this.style.setProperty("--progress",`${100*e}%`)}static get observedAttributes(){return["for"]}attributeChangedCallback(t,e,s){e!==s&&(this[t]=s)}}customElements.define(o,d);class c extends HTMLElement{static VERSION="1.0.0";static BREAKPOINT_SMALL="(max-width: 576px)";static BREAKPOINT_MEDIUM="(max-width: 992px)";static OPTIONS_PROPERTIES=["options","options-medium","options-small"];constructor(){super()}connectedCallback(){this.autoplay=this.getAttribute("autoplay")||0,this.style.setProperty("--autoplay-speed",`${this.autoplay}ms`),this.autoHeight=this.hasAttribute("auto-height")||!1,this.autoScroll=this.hasAttribute("auto-scroll")||!1,this.fade=this.hasAttribute("fade")||!1,this.pauseOnHover=this.hasAttribute("pause-on-hover"),this.plugins=[EmblaCarouselClassNames(),EmblaCarouselWheelGestures()],this.autoHeight&&this.plugins.push(EmblaCarouselAutoScroll({playOnInit:!1})),this.autoScroll&&this.plugins.push(EmblaCarouselAutoHeight()),this.fade&&this.plugins.push(EmblaCarouselFade()),0!=this.autoplay&&this.plugins.push(EmblaCarouselAutoplay({stopOnMouseEnter:this.pauseOnHover,delay:this.autoplay,playOnInit:!0})),this.buildOptions(),this.updateAttributeByResponsiveOptions("loop"),this.viewport=this.querySelector(e),this.api=EmblaCarousel(this.viewport,this.options,this.plugins),window.addEventListener("resize",()=>{this.updateAttributeByResponsiveOptions("loop")}),window.addEventListener("shopify:block:select",t=>{let e=t.detail.blockId,s=Array.from(this.api.slideNodes()).findIndex(t=>t.hasAttribute("data-shopify-editor-block")&&JSON.parse(t.getAttribute("data-shopify-editor-block")).id==e);-1!=s&&this.api.scrollTo(Number(s))}),this.api.on("select",()=>{this.updateControls(),this.updateThumbnails()}),this.api.on("init",()=>{console.log("Init"),this.updateControls(),this.updateProgress(),this.updateThumbnails()}),this.api.on("reInit",()=>{this.updateControls(),this.updateProgress(),this.updateThumbnails()}),this.api.on("scroll",()=>{this.updateProgress()}),this.api.on("slideFocus",()=>{this.updateProgress()}),this.api.on("destroy",()=>{})}updateAttributeByResponsiveOptions(t){window.matchMedia(c.BREAKPOINT_SMALL).matches?this.options.breakpoints[c.BREAKPOINT_SMALL][r(t)]?this.setAttribute(t,!0):this.removeAttribute(t):this.options[r(t)]?this.setAttribute(t,!0):this.removeAttribute(t)}buildOptions(){this.options={...this.options,container:t,breakpoints:{[c.BREAKPOINT_MEDIUM]:{...this.options,...this.optionsMedium},[c.BREAKPOINT_SMALL]:{...this.options,...this.optionsSmall}}}}parseOptions(t){return Object.fromEntries(t.split(",").map(t=>{let[e,s]=t.split(":");return s.match(/true|false/g)?[e.trim(),"true"==s.trim()]:s.match(/[0-9]+/g)?[e.trim(),Number(s.trim())]:[e.trim(),s.trim()]}))}updateControls(){[...document.querySelectorAll(`${s}[for="${this.id}"]`),...this.querySelectorAll(`${s}`)].forEach(t=>this.api.canScrollNext()?t.enable():t.disable()),[...document.querySelectorAll(`${i}[for="${this.id}"]`),...this.querySelectorAll(`${i}`)].forEach(t=>this.api.canScrollPrev()?t.enable():t.disable())}updateProgress(){[...document.querySelectorAll(`${o}[for="${this.id}"]`),...this.querySelectorAll(`${o}`)].forEach(t=>t.update())}updateThumbnails(){let t=[...document.querySelectorAll(`${a}[for="${this.id}"]`),...this.querySelectorAll(`${a}`)];t.forEach(t=>t.classList.remove("is-selected")),t.filter(t=>t.index==this.api.selectedScrollSnap()).forEach(t=>t.classList.add("is-selected"))}static get observedAttributes(){return["id",...c.OPTIONS_PROPERTIES]}attributeChangedCallback(t,e,s){if(e===s)return;let i=r(t);if(c.OPTIONS_PROPERTIES.includes(t)){this[i]=this.parseOptions(s),this.buildOptions();return}this[i]=s}}customElements.define(l,c)}();
//# sourceMappingURL=embla-slider-component.js.map
