{% assign loading = "lazy" %}
{% if section.index < 2 %}
  {% assign loading = "eager" %}
{% endif %}

{% assign aspect_ratio = "1" %}
{% assign fit = "cover" %}
{% capture placeholder %}product-{% cycle '1', '2', '3', '4', '5', '6' %}{% endcapture %}
<div class="flex col">
  <div class="spacing-bottom-xs">
    {% assign product_image = product.featured_image | default: blank %}
    {% render "image-element",
      image: product_image,
      fit: fit,
      aspect_ratio: aspect_ratio,
      loading: loading,
      sizes: "25vw",
      placeholder: placeholder
    %}
  </div>
  {% assign product_title = product.title | default: "Product placeholder" %}
  {% comment %} {% assign product_url = product.url | default: "#" %} {% endcomment %}
  {% comment %} <a href="{{ product_url }}"> {% endcomment %}
    <p class="h5 spacing-top-2xs">{{ product_title }}</p>
  {% comment %} </a> {% endcomment %}
  <p class="small">
    {% render "product-price" with product %}
  </p>
</div>
